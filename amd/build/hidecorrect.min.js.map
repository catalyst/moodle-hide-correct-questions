{"version":3,"file":"hidecorrect.min.js","sources":["../src/hidecorrect.js"],"sourcesContent":["define(['jquery', 'core/str'], function($, Str) {\r\n\r\n    const hideSlots = (slots, uniqueid) => {\r\n\r\n        var responseForm = document.querySelector(\"form#responseform\");\r\n        var ques = document.querySelectorAll(\"#responseform .que\");\r\n        if (ques === null) {\r\n            return;\r\n        }\r\n\r\n        var count = 0; // Count of completed questions in current page.\r\n        slots.forEach(slot => {\r\n            var selector = '#question-' + uniqueid + '-' + slot;\r\n            var question = document.querySelector(\"#responseform \" + selector);\r\n            if (question !== null) {\r\n                // question.remove(); // Remove the element from document.\r\n                count++;\r\n            }\r\n        });\r\n\r\n        // Display the info about all questions in this page are completed in previos attempt.\r\n        if (ques.length == count) {\r\n            var wrapper = document.createElement('div');\r\n            wrapper.classList.add('wrongquestion-completed-wrapper');\r\n\r\n            Str.get_string('pagequestioncompletes', 'quizaccess_hidecorrect').then((str) => {\r\n                var info = document.createElement('p')\r\n                info.classList.add('completed-previous-info');\r\n                info.textContent = str;\r\n\r\n                wrapper.appendChild(info);\r\n                responseForm.parentNode.insertBefore(wrapper, responseForm);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    return {\r\n\r\n        init: (slots, uniqueid, completed) => {\r\n            hideSlots(slots, uniqueid);\r\n\r\n            if (completed != '') {\r\n                var qnBlock = document.querySelector('#mod_quiz_navblock');\r\n                completed.forEach((id) => {\r\n                    var qnButton = qnBlock.querySelector('#quiznavbutton' + id);\r\n                    if (qnButton !== null) {\r\n                        console.log(qnButton);\r\n                        qnButton.classList.remove('answersaved');\r\n                        qnButton.classList.add('correct');\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n})\r\n"],"names":["define","$","Str","init","slots","uniqueid","completed","responseForm","document","querySelector","ques","querySelectorAll","count","forEach","slot","selector","length","wrapper","createElement","classList","add","get_string","then","str","info","textContent","appendChild","parentNode","insertBefore","hideSlots","qnBlock","id","qnButton","console","log","remove"],"mappings":"AAAAA,4CAAO,CAAC,SAAU,aAAa,SAASC,EAAGC,WAqChC,CAEHC,KAAM,CAACC,MAAOC,SAAUC,gBArCV,EAACF,MAAOC,gBAElBE,aAAeC,SAASC,cAAc,qBACtCC,KAAOF,SAASG,iBAAiB,yBACxB,OAATD,UAIAE,MAAQ,KACZR,MAAMS,SAAQC,WACNC,SAAW,aAAeV,SAAW,IAAMS,KAE9B,OADFN,SAASC,cAAc,iBAAmBM,WAGrDH,WAKJF,KAAKM,QAAUJ,MAAO,KAClBK,QAAUT,SAASU,cAAc,OACrCD,QAAQE,UAAUC,IAAI,mCAEtBlB,IAAImB,WAAW,wBAAyB,0BAA0BC,MAAMC,UAChEC,KAAOhB,SAASU,cAAc,KAClCM,KAAKL,UAAUC,IAAI,2BACnBI,KAAKC,YAAcF,IAEnBN,QAAQS,YAAYF,MACpBjB,aAAaoB,WAAWC,aAAaX,QAASV,oBASlDsB,CAAUzB,MAAOC,UAEA,IAAbC,UAAiB,KACbwB,QAAUtB,SAASC,cAAc,sBACrCH,UAAUO,SAASkB,SACXC,SAAWF,QAAQrB,cAAc,iBAAmBsB,IACvC,OAAbC,WACAC,QAAQC,IAAIF,UACZA,SAASb,UAAUgB,OAAO,eAC1BH,SAASb,UAAUC,IAAI"}